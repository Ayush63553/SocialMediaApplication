{"ast":null,"code":"export class ViewPersonProfileComponent {\n  constructor(route, friendsService) {\n    this.route = route;\n    this.friendsService = friendsService;\n    this.profile = {\n      userId: 0,\n      username: '',\n      bio: '',\n      profilePictureUrl: ''\n    };\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.username = params.get('username');\n      this.fetchProfile();\n    });\n  }\n  fetchProfile() {\n    this.friendsService.getProfile(this.username).subscribe({\n      next: data => {\n        this.profile = data;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error fetching profile', err);\n        this.loading = false;\n      }\n    });\n  }\n  addFriend() {\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n    });\n  }\n  unfriend() {\n    this.friendsService.unFriend(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n  }\n  acceptRequest() {\n    this.friendsService.acceptFriendRequest(this.profile.id).subscribe(() => {\n      this.profile.relationshipStatus = 'FRIEND';\n    });\n  }\n}","map":{"version":3,"names":["ViewPersonProfileComponent","constructor","route","friendsService","profile","userId","username","bio","profilePictureUrl","loading","ngOnInit","paramMap","subscribe","params","get","fetchProfile","getProfile","next","data","error","err","console","addFriend","sendFriendRequest","localStorage","getItem","relationshipStatus","unfriend","unFriend","acceptRequest","acceptFriendRequest","id"],"sources":["C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\features\\friends\\view-person-profile\\view-person-profile.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Friend, FriendsService } from 'src/app/core/services/Friends/friends.service';\n\n@Component({\n  selector: 'app-view-person-profile',\n  templateUrl: './view-person-profile.component.html',\n  styleUrls: ['./view-person-profile.component.css']\n})\n\nexport interface  \nexport class ViewPersonProfileComponent implements OnInit{\n\n\n  username!: string;\n\n  profile: Friend={\n    userId:0,\n    username:'',\n    bio:'',\n    profilePictureUrl:''\n  };\n\n  loading = true;\n\n  constructor(private route: ActivatedRoute, private friendsService: FriendsService) {}\n\n  ngOnInit(): void {\n\n    this.route.paramMap.subscribe(params => {\n\n      this.username = params.get('username')!;\n\n      this.fetchProfile();\n\n    });\n\n  }\n\n  fetchProfile(): void {\n\n    this.friendsService.getProfile(this.username).subscribe({\n\n      next: (data) => {\n\n        this.profile = data;\n\n        this.loading = false;\n\n      },\n\n      error: (err) => {\n\n        console.error('Error fetching profile', err);\n\n        this.loading = false;\n\n      }\n\n    });\n\n  }\n\n  addFriend(): void {\n\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'),this.profile.userId).subscribe(() => {\n\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n\n    });\n\n  }\n\n  unfriend(): void {\n\n    this.friendsService.unFriend(localStorage.getItem('userId'),this.profile.userId).subscribe(() => {\n\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n\n    });\n\n  }\n\n  acceptRequest(): void {\n\n    this.friendsService.acceptFriendRequest(this.profile.id).subscribe(() => {\n\n      this.profile.relationshipStatus = 'FRIEND';\n\n    });\n\n  }\n\n}"],"mappings":"AAWA,OAAM,MAAOA,0BAA0B;EAcrCC,YAAoBC,KAAqB,EAAUC,cAA8B;IAA7D,KAAAD,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IATjE,KAAAC,OAAO,GAAS;MACdC,MAAM,EAAC,CAAC;MACRC,QAAQ,EAAC,EAAE;MACXC,GAAG,EAAC,EAAE;MACNC,iBAAiB,EAAC;KACnB;IAED,KAAAC,OAAO,GAAG,IAAI;EAEsE;EAEpFC,QAAQA,CAAA;IAEN,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MAErC,IAAI,CAACP,QAAQ,GAAGO,MAAM,CAACC,GAAG,CAAC,UAAU,CAAE;MAEvC,IAAI,CAACC,YAAY,EAAE;IAErB,CAAC,CAAC;EAEJ;EAEAA,YAAYA,CAAA;IAEV,IAAI,CAACZ,cAAc,CAACa,UAAU,CAAC,IAAI,CAACV,QAAQ,CAAC,CAACM,SAAS,CAAC;MAEtDK,IAAI,EAAGC,IAAI,IAAI;QAEb,IAAI,CAACd,OAAO,GAAGc,IAAI;QAEnB,IAAI,CAACT,OAAO,GAAG,KAAK;MAEtB,CAAC;MAEDU,KAAK,EAAGC,GAAG,IAAI;QAEbC,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEC,GAAG,CAAC;QAE5C,IAAI,CAACX,OAAO,GAAG,KAAK;MAEtB;KAED,CAAC;EAEJ;EAEAa,SAASA,CAAA;IAEP,IAAI,CAACnB,cAAc,CAACoB,iBAAiB,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAC,IAAI,CAACrB,OAAO,CAACC,MAAM,CAAC,CAACO,SAAS,CAAC,MAAK;MAEvG,IAAI,CAACR,OAAO,CAACsB,kBAAkB,GAAG,cAAc;IAElD,CAAC,CAAC;EAEJ;EAEAC,QAAQA,CAAA;IAEN,IAAI,CAACxB,cAAc,CAACyB,QAAQ,CAACJ,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAC,IAAI,CAACrB,OAAO,CAACC,MAAM,CAAC,CAACO,SAAS,CAAC,MAAK;MAE9F,IAAI,CAACR,OAAO,CAACsB,kBAAkB,GAAG,YAAY;IAEhD,CAAC,CAAC;EAEJ;EAEAG,aAAaA,CAAA;IAEX,IAAI,CAAC1B,cAAc,CAAC2B,mBAAmB,CAAC,IAAI,CAAC1B,OAAO,CAAC2B,EAAE,CAAC,CAACnB,SAAS,CAAC,MAAK;MAEtE,IAAI,CAACR,OAAO,CAACsB,kBAAkB,GAAG,QAAQ;IAE5C,CAAC,CAAC;EAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}