{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/Friends/friends.service\";\nexport class ViewPersonProfileComponent {\n  constructor(route, friendsService) {\n    this.route = route;\n    this.friendsService = friendsService;\n    this.profile = {\n      userId: 0,\n      username: ''\n    };\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.username = params.get('username');\n      this.fetchProfile();\n    });\n  }\n  fetchProfile() {\n    this.friendsService.getProfile(this.username).subscribe({\n      next: data => {\n        this.profile = data;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error fetching profile', err);\n        this.loading = false;\n      }\n    });\n  }\n  addFriend() {\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'), this.profile?.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n    });\n  }\n  unfriend() {\n    this.friendsService.unFriend(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n  }\n  acceptRequest() {\n    this.friendsService.acceptFriendRequest(this.profile.id).subscribe(() => {\n      this.profile.relationshipStatus = 'FRIEND';\n    });\n  }\n  static {\n    this.ɵfac = function ViewPersonProfileComponent_Factory(t) {\n      return new (t || ViewPersonProfileComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FriendsService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewPersonProfileComponent,\n      selectors: [[\"app-view-person-profile\"]],\n      decls: 2,\n      vars: 0,\n      template: function ViewPersonProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"view-person-profile works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["ViewPersonProfileComponent","constructor","route","friendsService","profile","userId","username","loading","ngOnInit","paramMap","subscribe","params","get","fetchProfile","getProfile","next","data","error","err","console","addFriend","sendFriendRequest","localStorage","getItem","relationshipStatus","unfriend","unFriend","acceptRequest","acceptFriendRequest","id","i0","ɵɵdirectiveInject","i1","ActivatedRoute","i2","FriendsService","selectors","decls","vars","template","ViewPersonProfileComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\features\\friends\\view-person-profile\\view-person-profile.component.ts","C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\features\\friends\\view-person-profile\\view-person-profile.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Friend, FriendsService } from 'src/app/core/services/Friends/friends.service';\n\n@Component({\n  selector: 'app-view-person-profile',\n  templateUrl: './view-person-profile.component.html',\n  styleUrls: ['./view-person-profile.component.css']\n})\nexport class ViewPersonProfileComponent implements OnInit{\n\n\n  username!: string;\n\n  profile: Friend={\n    userId:0,\n    username:''\n  };\n\n  loading = true;\n\n  constructor(private route: ActivatedRoute, private friendsService: FriendsService) {}\n\n  ngOnInit(): void {\n\n    this.route.paramMap.subscribe(params => {\n\n      this.username = params.get('username')!;\n\n      this.fetchProfile();\n\n    });\n\n  }\n\n  fetchProfile(): void {\n\n    this.friendsService.getProfile(this.username).subscribe({\n\n      next: (data) => {\n\n        this.profile = data;\n\n        this.loading = false;\n\n      },\n\n      error: (err) => {\n\n        console.error('Error fetching profile', err);\n\n        this.loading = false;\n\n      }\n\n    });\n\n  }\n\n  addFriend(): void {\n\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'),this.profile?.userId).subscribe(() => {\n\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n\n    });\n\n  }\n\n  unfriend(): void {\n\n    this.friendsService.unFriend(localStorage.getItem('userId'),this.profile.userId).subscribe(() => {\n\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n\n    });\n\n  }\n\n  acceptRequest(): void {\n\n    this.friendsService.acceptFriendRequest(this.profile.id).subscribe(() => {\n\n      this.profile.relationshipStatus = 'FRIEND';\n\n    });\n\n  }\n\n}","<p>view-person-profile works!</p>\n"],"mappings":";;;AASA,OAAM,MAAOA,0BAA0B;EAYrCC,YAAoBC,KAAqB,EAAUC,cAA8B;IAA7D,KAAAD,KAAK,GAALA,KAAK;IAA0B,KAAAC,cAAc,GAAdA,cAAc;IAPjE,KAAAC,OAAO,GAAS;MACdC,MAAM,EAAC,CAAC;MACRC,QAAQ,EAAC;KACV;IAED,KAAAC,OAAO,GAAG,IAAI;EAEsE;EAEpFC,QAAQA,CAAA;IAEN,IAAI,CAACN,KAAK,CAACO,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MAErC,IAAI,CAACL,QAAQ,GAAGK,MAAM,CAACC,GAAG,CAAC,UAAU,CAAE;MAEvC,IAAI,CAACC,YAAY,EAAE;IAErB,CAAC,CAAC;EAEJ;EAEAA,YAAYA,CAAA;IAEV,IAAI,CAACV,cAAc,CAACW,UAAU,CAAC,IAAI,CAACR,QAAQ,CAAC,CAACI,SAAS,CAAC;MAEtDK,IAAI,EAAGC,IAAI,IAAI;QAEb,IAAI,CAACZ,OAAO,GAAGY,IAAI;QAEnB,IAAI,CAACT,OAAO,GAAG,KAAK;MAEtB,CAAC;MAEDU,KAAK,EAAGC,GAAG,IAAI;QAEbC,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEC,GAAG,CAAC;QAE5C,IAAI,CAACX,OAAO,GAAG,KAAK;MAEtB;KAED,CAAC;EAEJ;EAEAa,SAASA,CAAA;IAEP,IAAI,CAACjB,cAAc,CAACkB,iBAAiB,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAC,IAAI,CAACnB,OAAO,EAAEC,MAAM,CAAC,CAACK,SAAS,CAAC,MAAK;MAExG,IAAI,CAACN,OAAO,CAACoB,kBAAkB,GAAG,cAAc;IAElD,CAAC,CAAC;EAEJ;EAEAC,QAAQA,CAAA;IAEN,IAAI,CAACtB,cAAc,CAACuB,QAAQ,CAACJ,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAC,IAAI,CAACnB,OAAO,CAACC,MAAM,CAAC,CAACK,SAAS,CAAC,MAAK;MAE9F,IAAI,CAACN,OAAO,CAACoB,kBAAkB,GAAG,YAAY;IAEhD,CAAC,CAAC;EAEJ;EAEAG,aAAaA,CAAA;IAEX,IAAI,CAACxB,cAAc,CAACyB,mBAAmB,CAAC,IAAI,CAACxB,OAAO,CAACyB,EAAE,CAAC,CAACnB,SAAS,CAAC,MAAK;MAEtE,IAAI,CAACN,OAAO,CAACoB,kBAAkB,GAAG,QAAQ;IAE5C,CAAC,CAAC;EAEJ;;;uBA9EWxB,0BAA0B,EAAA8B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA;IAAA;EAAA;;;YAA1BnC,0BAA0B;MAAAoC,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,oCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCTvCX,EAAA,CAAAa,cAAA,QAAG;UAAAb,EAAA,CAAAc,MAAA,iCAA0B;UAAAd,EAAA,CAAAe,YAAA,EAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}