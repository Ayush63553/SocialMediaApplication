{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ViewPersonProfileComponent = class ViewPersonProfileComponent {\n  constructor(route, friendsService) {\n    this.route = route;\n    this.friendsService = friendsService;\n    this.profile = {\n      userId: 0,\n      username: '',\n      bio: '',\n      profilePictureUrl: '',\n      email: '',\n      firstName: '',\n      lastName: '',\n      dateOfBirth: new Date(),\n      gender: '',\n      relationshipStatus: ''\n    };\n    this.loading = true;\n    this.mutualFriends = [];\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.userId = params.get('userId');\n      this.fetchProfile();\n    });\n  }\n  fetchProfile() {\n    this.friendsService.getProfile(this.userId).subscribe({\n      next: data => {\n        this.profile = data;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error fetching profile', err);\n        this.loading = false;\n      }\n    });\n  }\n  fetchMutualFriends() {\n    this.friendsService.findMutualFriend(localStorage.getItem(\"userId\"), this.profile.userId).subscribe({\n      next: data => {\n        this.mutualFriends = data;\n      },\n      error: err => console.error('Error loading mutual friends', err)\n    });\n  }\n  addFriend() {\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n    });\n  }\n  unfriend() {\n    this.friendsService.unFriend(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n  }\n  acceptRequest() {\n    this.friendsService.acceptFriendRequest(this.profile.userId, localStorage.getItem('userId')).subscribe(() => {\n      this.profile.relationshipStatus = 'FRIEND';\n    });\n  }\n};\nViewPersonProfileComponent = __decorate([Component({\n  selector: 'app-view-person-profile',\n  templateUrl: './view-person-profile.component.html',\n  styleUrls: ['./view-person-profile.component.css']\n})], ViewPersonProfileComponent);","map":{"version":3,"names":["Component","ViewPersonProfileComponent","constructor","route","friendsService","profile","userId","username","bio","profilePictureUrl","email","firstName","lastName","dateOfBirth","Date","gender","relationshipStatus","loading","mutualFriends","ngOnInit","paramMap","subscribe","params","get","fetchProfile","getProfile","next","data","error","err","console","fetchMutualFriends","findMutualFriend","localStorage","getItem","addFriend","sendFriendRequest","unfriend","unFriend","acceptRequest","acceptFriendRequest","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\features\\friends\\view-person-profile\\view-person-profile.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Friend, FriendsService, UserDTO } from 'src/app/core/services/Friends/friends.service';\n\n@Component({\n  selector: 'app-view-person-profile',\n  templateUrl: './view-person-profile.component.html',\n  styleUrls: ['./view-person-profile.component.css']\n})\n\nexport class ViewPersonProfileComponent implements OnInit{\n\n\n  userId!: string;\n\n  profile: UserDTO={\n    userId:0,\n    username:'',\n    bio:'',\n    profilePictureUrl:'',\n    email:'',\n    firstName:'',\n    lastName:'',\n    dateOfBirth:new Date(),\n    gender:'',\n    relationshipStatus:''\n  };\n\n  loading = true;\n\n  constructor(private route: ActivatedRoute, private friendsService: FriendsService) {}\n\n  ngOnInit(): void {\n\n    this.route.paramMap.subscribe(params => {\n\n      this.userId = params.get('userId')!;\n\n      this.fetchProfile();\n\n    });\n\n  }\n\n  fetchProfile(): void {\n\n    this.friendsService.getProfile(this.userId).subscribe({\n\n      next: (data) => {\n\n        this.profile = data;\n\n        this.loading = false;\n\n      },\n\n      error: (err) => {\n\n        console.error('Error fetching profile', err);\n\n        this.loading = false;\n\n      }\n\n    });\n\n  }\n  mutualFriends:UserDTO[]=[];\n  \n  \n  fetchMutualFriends(){\n    this.friendsService.findMutualFriend(localStorage.getItem(\"userId\"),this.profile.userId).subscribe({\n          next: (data) => {\n            this.mutualFriends =data;\n          },\n          error: (err) => console.error('Error loading mutual friends', err)\n          });\n  }\n\n  addFriend(): void {\n\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'),this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n    });\n\n  }\n\n  unfriend(): void {\n    this.friendsService.unFriend(localStorage.getItem('userId'),this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n\n  }\n\n  acceptRequest(): void {\n    this.friendsService.acceptFriendRequest(this.profile.userId,localStorage.getItem('userId')).subscribe(() => {\n      this.profile.relationshipStatus = 'FRIEND';\n    });\n  }\n\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}