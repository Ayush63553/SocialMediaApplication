{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/Login/authLogin.service\";\nimport * as i2 from \"src/app/core/services/notification.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction NavbarComponent_div_6_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\", 14);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r4.unreadCount, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"/profile\"];\n};\nconst _c1 = function () {\n  return [\"/friends\"];\n};\nconst _c2 = function () {\n  return [\"/notifications\"];\n};\nfunction NavbarComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 8)(1, \"a\", 9);\n    i0.ÉµÉµtext(2, \"Profile\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"a\", 9);\n    i0.ÉµÉµtext(4, \"Friends\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(5, \"a\", 10);\n    i0.ÉµÉµelement(6, \"i\", 11);\n    i0.ÉµÉµtext(7, \" Notifications \");\n    i0.ÉµÉµtemplate(8, NavbarComponent_div_6_span_8_Template, 2, 1, \"span\", 12);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(9, \"button\", 13);\n    i0.ÉµÉµlistener(\"click\", function NavbarComponent_div_6_Template_button_click_9_listener() {\n      i0.ÉµÉµrestoreView(_r6);\n      const ctx_r5 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r5.LogOut());\n    });\n    i0.ÉµÉµtext(10, \"Logout\");\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"routerLink\", i0.ÉµÉµpureFunction0(4, _c0));\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"routerLink\", i0.ÉµÉµpureFunction0(5, _c1));\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"routerLink\", i0.ÉµÉµpureFunction0(6, _c2));\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r0.unreadCount > 0);\n  }\n}\nconst _c3 = function () {\n  return [\"/auth\"];\n};\nfunction NavbarComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 4)(1, \"div\", 8)(2, \"a\", 9);\n    i0.ÉµÉµtext(3, \"Login\");\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"routerLink\", i0.ÉµÉµpureFunction0(1, _c3));\n  }\n}\nfunction NavbarComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 15)(1, \"div\", 16)(2, \"div\", 17)(3, \"div\", 18);\n    i0.ÉµÉµtext(4, \" \\u2705 Logged out successfully \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(5, \"button\", 19);\n    i0.ÉµÉµlistener(\"click\", function NavbarComponent_div_9_Template_button_click_5_listener() {\n      i0.ÉµÉµrestoreView(_r8);\n      const ctx_r7 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r7.showLogoutToast = false);\n    });\n    i0.ÉµÉµelementEnd()()()();\n  }\n}\nconst _c4 = function () {\n  return [\"/home\"];\n};\nexport class NavbarComponent {\n  constructor(authService, cdRef, notificationService) {\n    this.authService = authService;\n    this.cdRef = cdRef;\n    this.notificationService = notificationService;\n    this.isLoggedIn = false;\n    this.showLogoutToast = false;\n    this.notifications = [];\n    this.unreadCount = 0;\n  }\n  ngOnInit() {\n    this.authService.isLoggedIn$.subscribe(status => {\n      this.isLoggedIn = status;\n      if (status) {\n        const userId = Number(localStorage.getItem('userId'));\n        this.notificationService.getNotifications(userId).subscribe({\n          next: data => {\n            this.notifications = data;\n            this.notificationService.updateCount(data.length); // ðŸ”¥ push to service\n          },\n\n          error: err => console.error('Failed to load notifications', err)\n        });\n      }\n    });\n    // subscribe to live count updates\n    this.notificationService.notificationsCount$.subscribe(count => {\n      this.unreadCount = count;\n      this.cdRef.detectChanges();\n    });\n  }\n  LogOut() {\n    this.authService.logout();\n    this.showLogoutToast = true;\n    setTimeout(() => {\n      this.showLogoutToast = false;\n    }, 3000);\n  }\n  static {\n    this.Éµfac = function NavbarComponent_Factory(t) {\n      return new (t || NavbarComponent)(i0.ÉµÉµdirectiveInject(i1.AuthService), i0.ÉµÉµdirectiveInject(i0.ChangeDetectorRef), i0.ÉµÉµdirectiveInject(i2.NotificationService));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: NavbarComponent,\n      selectors: [[\"app-navbar\"]],\n      decls: 10,\n      vars: 5,\n      consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\"], [\"routerLinkActive\", \"active\", 1, \"navbar-brand\", \"text-white\", 3, \"routerLink\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [\"class\", \"navbar-nav ms-auto\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"class\", \"toast-container position-fixed top-0 end-0 p-3\", 4, \"ngIf\"], [1, \"navbar-nav\", \"ms-auto\"], [\"routerLinkActive\", \"active\", 1, \"nav-item\", \"nav-link\", 3, \"routerLink\"], [\"routerLinkActive\", \"active\", 1, \"nav-item\", \"nav-link\", \"position-relative\", 3, \"routerLink\"], [1, \"bi\", \"bi-bell\"], [\"class\", \"badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle\", 4, \"ngIf\"], [1, \"btn-logout\", \"mt-2\", \"mt-lg-0\", 3, \"click\"], [1, \"badge\", \"bg-danger\", \"rounded-pill\", \"position-absolute\", \"top-0\", \"start-100\", \"translate-middle\"], [1, \"toast-container\", \"position-fixed\", \"top-0\", \"end-0\", \"p-3\"], [1, \"toast\", \"align-items-center\", \"text-bg-success\", \"border-0\", \"show\"], [1, \"d-flex\"], [1, \"toast-body\"], [\"type\", \"button\", 1, \"btn-close\", \"btn-close-white\", \"me-2\", \"m-auto\", 3, \"click\"]],\n      template: function NavbarComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"nav\", 0)(1, \"a\", 1);\n          i0.ÉµÉµtext(2, \"Connecto\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(3, \"button\", 2);\n          i0.ÉµÉµelement(4, \"span\", 3);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(5, \"div\", 4);\n          i0.ÉµÉµtemplate(6, NavbarComponent_div_6_Template, 11, 7, \"div\", 5);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµtemplate(7, NavbarComponent_ng_template_7_Template, 4, 2, \"ng-template\", null, 6, i0.ÉµÉµtemplateRefExtractor);\n          i0.ÉµÉµtemplate(9, NavbarComponent_div_9_Template, 6, 0, \"div\", 7);\n        }\n        if (rf & 2) {\n          const _r1 = i0.ÉµÉµreference(8);\n          i0.ÉµÉµadvance(1);\n          i0.ÉµÉµproperty(\"routerLink\", i0.ÉµÉµpureFunction0(4, _c4));\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.isLoggedIn)(\"ngIfElse\", _r1);\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.showLogoutToast);\n        }\n      },\n      dependencies: [i3.NgIf, i4.RouterLink, i4.RouterLinkActive],\n      styles: [\".navbar[_ngcontent-%COMP%] {\\n    font-family: 'Oswald', sans-serif;\\n    font-size: 1.1rem;\\n    box-shadow: 0px 4px 8px rgba(0,0,0,0.2);\\n    background: linear-gradient(90deg, #3b5998, #4c70ba);\\n    padding: 0.6rem 1.5rem;\\n    display: flex;\\n    align-items: center;\\n}\\n\\n\\n\\n.navbar-brand[_ngcontent-%COMP%] {\\n    font-size: 2rem;\\n    font-weight: 700;\\n    letter-spacing: -0.5px;\\n    margin-right: 2rem;\\n    transition: color 0.3s ease;\\n}\\n.navbar-brand[_ngcontent-%COMP%]:hover {\\n    color: #dfe6f2 !important;\\n}\\n\\n\\n\\n.nav-link[_ngcontent-%COMP%] {\\n    padding: 0.7rem 1.2rem;\\n    color: white !important;\\n    font-weight: 600;\\n    text-transform: uppercase;\\n    position: relative;\\n    transition: all 0.3s ease;\\n}\\n.nav-link[_ngcontent-%COMP%]:hover {\\n    background-color: rgba(255, 255, 255, 0.15);\\n    border-radius: 6px;\\n}\\n\\n\\n\\n.nav-link.active[_ngcontent-%COMP%] {\\n    color: #ffdd57 !important;\\n    font-weight: 700;\\n}\\n.nav-link.active[_ngcontent-%COMP%]::after {\\n    content: '';\\n    display: block;\\n    height: 3px;\\n    background-color: #ffdd57;\\n    width: 100%;\\n    margin-top: 4px;\\n    border-radius: 2px;\\n    animation: _ngcontent-%COMP%_slideIn 0.3s ease forwards;\\n}\\n@keyframes _ngcontent-%COMP%_slideIn {\\n    from { width: 0; }\\n    to { width: 100%; }\\n}\\n\\n\\n\\n.btn-logout[_ngcontent-%COMP%] {\\n    background: linear-gradient(135deg, #e63946, #c92a2a);\\n    color: #fff;\\n    border: none;\\n    border-radius: 50px;\\n    padding: 0.5rem 1.4rem;\\n    font-size: 0.95rem;\\n    font-weight: 600;\\n    cursor: pointer;\\n    margin-left: 1rem;\\n    transition: all 0.3s ease;\\n    box-shadow: 0 4px 10px rgba(233, 69, 96, 0.3);\\n}\\n.btn-logout[_ngcontent-%COMP%]:hover {\\n    background: linear-gradient(135deg, #c92a2a, #a4161a);\\n    transform: translateY(-2px);\\n    box-shadow: 0 6px 14px rgba(233, 69, 96, 0.45);\\n}\\n.btn-logout[_ngcontent-%COMP%]:active {\\n    transform: scale(0.97);\\n    box-shadow: 0 2px 6px rgba(233, 69, 96, 0.4);\\n}\\n\\n\\n\\n.navbar-toggler[_ngcontent-%COMP%] {\\n  border: none;\\n  outline: none;\\n}\\n.navbar-toggler-icon[_ngcontent-%COMP%] {\\n  filter: invert(1); \\n\\n}\\n.badge[_ngcontent-%COMP%]{\\n    font-size: 0.7rem;\\n    padding: 0.35em 0.5em;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvbmF2YmFyL25hdmJhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUNBQWlDO0lBQ2pDLGlCQUFpQjtJQUNqQix1Q0FBdUM7SUFDdkMsb0RBQW9EO0lBQ3BELHNCQUFzQjtJQUN0QixhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCOztBQUVBLFVBQVU7QUFDVjtJQUNJLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQiwyQkFBMkI7QUFDL0I7QUFDQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQSxjQUFjO0FBQ2Q7SUFDSSxzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLHlCQUF5QjtBQUM3QjtBQUNBO0lBQ0ksMkNBQTJDO0lBQzNDLGtCQUFrQjtBQUN0Qjs7QUFFQSxzQkFBc0I7QUFDdEI7SUFDSSx5QkFBeUI7SUFDekIsZ0JBQWdCO0FBQ3BCO0FBQ0E7SUFDSSxXQUFXO0lBQ1gsY0FBYztJQUNkLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsV0FBVztJQUNYLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIscUNBQXFDO0FBQ3pDO0FBQ0E7SUFDSSxPQUFPLFFBQVEsRUFBRTtJQUNqQixLQUFLLFdBQVcsRUFBRTtBQUN0Qjs7QUFFQSxzQ0FBc0M7QUFDdEM7SUFDSSxxREFBcUQ7SUFDckQsV0FBVztJQUNYLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQix5QkFBeUI7SUFDekIsNkNBQTZDO0FBQ2pEO0FBQ0E7SUFDSSxxREFBcUQ7SUFDckQsMkJBQTJCO0lBQzNCLDhDQUE4QztBQUNsRDtBQUNBO0lBQ0ksc0JBQXNCO0lBQ3RCLDRDQUE0QztBQUNoRDs7QUFFQSx1QkFBdUI7QUFDdkI7RUFDRSxZQUFZO0VBQ1osYUFBYTtBQUNmO0FBQ0E7RUFDRSxpQkFBaUIsRUFBRSwwQkFBMEI7QUFDL0M7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixxQkFBcUI7QUFDekIiLCJzb3VyY2VzQ29udGVudCI6WyIubmF2YmFyIHtcclxuICAgIGZvbnQtZmFtaWx5OiAnT3N3YWxkJywgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xyXG4gICAgYm94LXNoYWRvdzogMHB4IDRweCA4cHggcmdiYSgwLDAsMCwwLjIpO1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjM2I1OTk4LCAjNGM3MGJhKTtcclxuICAgIHBhZGRpbmc6IDAuNnJlbSAxLjVyZW07XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLyogQnJhbmQgKi9cclxuLm5hdmJhci1icmFuZCB7XHJcbiAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IC0wLjVweDtcclxuICAgIG1hcmdpbi1yaWdodDogMnJlbTtcclxuICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3MgZWFzZTtcclxufVxyXG4ubmF2YmFyLWJyYW5kOmhvdmVyIHtcclxuICAgIGNvbG9yOiAjZGZlNmYyICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qIE5hdiBsaW5rcyAqL1xyXG4ubmF2LWxpbmsge1xyXG4gICAgcGFkZGluZzogMC43cmVtIDEuMnJlbTtcclxuICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xyXG59XHJcbi5uYXYtbGluazpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG59XHJcblxyXG4vKiBBY3RpdmUgbGluayBzdHlsZSAqL1xyXG4ubmF2LWxpbmsuYWN0aXZlIHtcclxuICAgIGNvbG9yOiAjZmZkZDU3ICFpbXBvcnRhbnQ7XHJcbiAgICBmb250LXdlaWdodDogNzAwO1xyXG59XHJcbi5uYXYtbGluay5hY3RpdmU6OmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBoZWlnaHQ6IDNweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmRkNTc7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi10b3A6IDRweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2UgZm9yd2FyZHM7XHJcbn1cclxuQGtleWZyYW1lcyBzbGlkZUluIHtcclxuICAgIGZyb20geyB3aWR0aDogMDsgfVxyXG4gICAgdG8geyB3aWR0aDogMTAwJTsgfVxyXG59XHJcblxyXG4vKiBMb2dvdXQgYnV0dG9uIC0gbW9kZXJuIHBpbGwgc3R5bGUgKi9cclxuLmJ0bi1sb2dvdXQge1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2U2Mzk0NiwgI2M5MmEyYSk7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgICBwYWRkaW5nOiAwLjVyZW0gMS40cmVtO1xyXG4gICAgZm9udC1zaXplOiAwLjk1cmVtO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgyMzMsIDY5LCA5NiwgMC4zKTtcclxufVxyXG4uYnRuLWxvZ291dDpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjYzkyYTJhLCAjYTQxNjFhKTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgNnB4IDE0cHggcmdiYSgyMzMsIDY5LCA5NiwgMC40NSk7XHJcbn1cclxuLmJ0bi1sb2dvdXQ6YWN0aXZlIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC45Nyk7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgyMzMsIDY5LCA5NiwgMC40KTtcclxufVxyXG5cclxuLyogVG9nZ2xlciBmb3IgbW9iaWxlICovXHJcbi5uYXZiYXItdG9nZ2xlciB7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbn1cclxuLm5hdmJhci10b2dnbGVyLWljb24ge1xyXG4gIGZpbHRlcjogaW52ZXJ0KDEpOyAvKiBtYWtlcyBoYW1idXJnZXIgd2hpdGUgKi9cclxufVxyXG4uYmFkZ2V7XHJcbiAgICBmb250LXNpemU6IDAuN3JlbTtcclxuICAgIHBhZGRpbmc6IDAuMzVlbSAwLjVlbTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµadvance","ÉµÉµtextInterpolate1","ctx_r4","unreadCount","ÉµÉµelement","ÉµÉµtemplate","NavbarComponent_div_6_span_8_Template","ÉµÉµlistener","NavbarComponent_div_6_Template_button_click_9_listener","ÉµÉµrestoreView","_r6","ctx_r5","ÉµÉµnextContext","ÉµÉµresetView","LogOut","ÉµÉµproperty","ÉµÉµpureFunction0","_c0","_c1","_c2","ctx_r0","_c3","NavbarComponent_div_9_Template_button_click_5_listener","_r8","ctx_r7","showLogoutToast","NavbarComponent","constructor","authService","cdRef","notificationService","isLoggedIn","notifications","ngOnInit","isLoggedIn$","subscribe","status","userId","Number","localStorage","getItem","getNotifications","next","data","updateCount","length","error","err","console","notificationsCount$","count","detectChanges","logout","setTimeout","ÉµÉµdirectiveInject","i1","AuthService","ChangeDetectorRef","i2","NotificationService","selectors","decls","vars","consts","template","NavbarComponent_Template","rf","ctx","NavbarComponent_div_6_Template","NavbarComponent_ng_template_7_Template","ÉµÉµtemplateRefExtractor","NavbarComponent_div_9_Template","_c4","_r1"],"sources":["C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\shared\\components\\navbar\\navbar.component.ts","C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\shared\\components\\navbar\\navbar.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { AuthService } from 'src/app/core/services/Login/authLogin.service';\r\nimport { NotificationService } from 'src/app/core/services/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css'],\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n  isLoggedIn: boolean | null = false;\r\n  showLogoutToast: boolean = false;\r\n\r\n  notifications: string[] = [];\r\n  unreadCount: number = 0;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private cdRef: ChangeDetectorRef,\r\n    private notificationService: NotificationService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.authService.isLoggedIn$.subscribe((status) => {\r\n      this.isLoggedIn = status;\r\n\r\n      if (status) {\r\n        const userId = Number(localStorage.getItem('userId'));\r\n        this.notificationService.getNotifications(userId).subscribe({\r\n          next: (data) => {\r\n            this.notifications = data;\r\n            this.notificationService.updateCount(data.length); // ðŸ”¥ push to service\r\n          },\r\n          error: (err) => console.error('Failed to load notifications', err),\r\n        });\r\n      }\r\n    });\r\n\r\n    // subscribe to live count updates\r\n    this.notificationService.notificationsCount$.subscribe((count) => {\r\n      this.unreadCount = count;\r\n      this.cdRef.detectChanges();\r\n    });\r\n  }\r\n\r\n  LogOut(): void {\r\n    this.authService.logout();\r\n    this.showLogoutToast = true;\r\n\r\n    setTimeout(() => {\r\n      this.showLogoutToast = false;\r\n    }, 3000);\r\n  }\r\n}","<nav class=\"navbar navbar-expand-lg navbar-light\"> \r\n  <!-- Branding -->\r\n  <a class=\"navbar-brand text-white\" [routerLink]=\"['/home']\" routerLinkActive=\"active\">Connecto</a>\r\n\r\n  <!-- Hamburger button -->\r\n  <button \r\n    class=\"navbar-toggler\" \r\n    type=\"button\" \r\n    data-bs-toggle=\"collapse\" \r\n    data-bs-target=\"#navbarNav\"\r\n    aria-controls=\"navbarNav\"\r\n    aria-expanded=\"false\"\r\n    aria-label=\"Toggle navigation\">\r\n    <span class=\"navbar-toggler-icon\"></span>\r\n  </button>\r\n\r\n  <!-- Navbar links (collapsible) -->\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n    <div class=\"navbar-nav ms-auto\" *ngIf=\"isLoggedIn; else elseBlock\">\r\n      <a class=\"nav-item nav-link\" [routerLink]=\"['/profile']\" routerLinkActive=\"active\">Profile</a>  \r\n      <a class=\"nav-item nav-link\" [routerLink]=\"['/friends']\" routerLinkActive=\"active\">Friends</a>  \r\n      \r\n      <!-- Notifications with badge -->\r\n      <a class=\"nav-item nav-link position-relative\" [routerLink]=\"['/notifications']\" routerLinkActive=\"active\">\r\n        <i class=\"bi bi-bell\"></i> Notifications\r\n        <span *ngIf=\"unreadCount > 0\" class=\"badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle\">\r\n          {{ unreadCount }}\r\n        </span>\r\n      </a>  \r\n\r\n      <button class=\"btn-logout mt-2 mt-lg-0\" (click)=\"LogOut()\">Logout</button>  \r\n    </div> \r\n  </div>\r\n</nav>    \r\n\r\n<!-- If not logged in -->\r\n<ng-template #elseBlock>\r\n  <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n    <div class=\"navbar-nav ms-auto\">\r\n      <a class=\"nav-item nav-link\" [routerLink]=\"['/auth']\" routerLinkActive=\"active\">Login</a>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- Bootstrap Toast -->\r\n<div \r\n  class=\"toast-container position-fixed top-0 end-0 p-3\" \r\n  *ngIf=\"showLogoutToast\">\r\n  <div class=\"toast align-items-center text-bg-success border-0 show\">\r\n    <div class=\"d-flex\">\r\n      <div class=\"toast-body\">\r\n        âœ… Logged out successfully\r\n      </div>\r\n      <button \r\n        type=\"button\" \r\n        class=\"btn-close btn-close-white me-2 m-auto\" \r\n        (click)=\"showLogoutToast = false\">\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}