{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let FindFriendsComponent = class FindFriendsComponent {\n  constructor(friendsService, authService) {\n    this.friendsService = friendsService;\n    this.authService = authService;\n    this.allFriends = [];\n    this.filteredFriends = [];\n    this.searchText = '';\n    this.userId = 0;\n    this.username = \"\";\n  }\n  ngOnInit() {\n    this.loadFriends();\n  }\n  loadFriends() {\n    this.friendsService.findFriends(localStorage.getItem(\"userId\")).subscribe({\n      next: data => {\n        this.allFriends = data;\n        this.filteredFriends = data;\n      },\n      error: err => console.error('Error loading friends', err)\n    });\n  }\n  onSearchChange() {\n    const text = this.searchText.toLowerCase();\n    this.filteredFriends = this.allFriends.filter(friend => friend.username.toLowerCase().includes(text));\n  }\n  sendRequest(friend) {\n    this.friendsService.sendFriendRequest(friend.id, 1).subscribe({\n      next: () => {\n        alert(`Friend request sent to ${friend.username}`);\n        // Optionally remove from list\n        this.filteredFriends = this.filteredFriends.filter(f => f.id !== friend.id);\n      },\n      error: err => {\n        alert('Failed to send request');\n        console.error(err);\n      }\n    });\n  }\n};\nFindFriendsComponent = __decorate([Component({\n  selector: 'app-find-friends',\n  templateUrl: './find-friends.component.html',\n  styleUrls: ['./find-friends.component.css']\n})], FindFriendsComponent);","map":{"version":3,"names":["Component","FindFriendsComponent","constructor","friendsService","authService","allFriends","filteredFriends","searchText","userId","username","ngOnInit","loadFriends","findFriends","localStorage","getItem","subscribe","next","data","error","err","console","onSearchChange","text","toLowerCase","filter","friend","includes","sendRequest","sendFriendRequest","id","alert","f","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\features\\friends\\find-friends\\find-friends.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Friend, FriendsService } from 'src/app/core/services/Friends/friends.service';\r\nimport { AuthService } from 'src/app/core/services/Login/authLogin.service';\r\n\r\ninterface SuggestedFriend {\r\n  \r\n  id: number;\r\n  \r\n  name: string;\r\n  \r\n  avatar: string;\r\n  \r\n  requestSent: boolean;\r\n  \r\n}\r\n@Component({\r\n  selector: 'app-find-friends',\r\n  templateUrl: './find-friends.component.html',\r\n  styleUrls: ['./find-friends.component.css']\r\n})\r\nexport class FindFriendsComponent implements OnInit {\r\n\r\n  allFriends: Friend[] = [];\r\n\r\n  filteredFriends: Friend[] = [];\r\n\r\n  searchText: string = '';\r\n\r\n  constructor(private friendsService: FriendsService, private authService:AuthService) {}\r\n  userId:number=0;\r\n  username:String=\"\";\r\n  ngOnInit(): void {    \r\n    this.loadFriends();\r\n  }\r\n\r\n  loadFriends(): void {\r\n\r\n    this.friendsService.findFriends(localStorage.getItem(\"userId\")).subscribe({\r\n\r\n      next: (data) => {\r\n\r\n        this.allFriends = data;\r\n\r\n        this.filteredFriends = data;\r\n\r\n      },\r\n\r\n      error: (err) => console.error('Error loading friends', err)\r\n\r\n    });\r\n\r\n  }\r\n\r\n  onSearchChange(): void {\r\n\r\n    const text = this.searchText.toLowerCase();\r\n\r\n    this.filteredFriends = this.allFriends.filter(friend =>\r\n\r\n      friend.username.toLowerCase().includes(text)\r\n\r\n    );\r\n\r\n  }\r\n\r\n  sendRequest(friend: Friend): void {\r\n    this.friendsService.sendFriendRequest(friend.id,1).subscribe({\r\n      next: () => {\r\n        alert(`Friend request sent to ${friend.username}`);\r\n        // Optionally remove from list\r\n        this.filteredFriends = this.filteredFriends.filter(f => f.id !== friend.id);\r\n      },\r\n      error: (err) => {\r\n        alert('Failed to send request');\r\n        console.error(err);\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAoB1C,WAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAQ/BC,YAAoBC,cAA8B,EAAUC,WAAuB;IAA/D,KAAAD,cAAc,GAAdA,cAAc;IAA0B,KAAAC,WAAW,GAAXA,WAAW;IANvE,KAAAC,UAAU,GAAa,EAAE;IAEzB,KAAAC,eAAe,GAAa,EAAE;IAE9B,KAAAC,UAAU,GAAW,EAAE;IAGvB,KAAAC,MAAM,GAAQ,CAAC;IACf,KAAAC,QAAQ,GAAQ,EAAE;EAFoE;EAGtFC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAWA,CAAA;IAET,IAAI,CAACR,cAAc,CAACS,WAAW,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAACC,SAAS,CAAC;MAExEC,IAAI,EAAGC,IAAI,IAAI;QAEb,IAAI,CAACZ,UAAU,GAAGY,IAAI;QAEtB,IAAI,CAACX,eAAe,GAAGW,IAAI;MAE7B,CAAC;MAEDC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,uBAAuB,EAAEC,GAAG;KAE3D,CAAC;EAEJ;EAEAE,cAAcA,CAAA;IAEZ,MAAMC,IAAI,GAAG,IAAI,CAACf,UAAU,CAACgB,WAAW,EAAE;IAE1C,IAAI,CAACjB,eAAe,GAAG,IAAI,CAACD,UAAU,CAACmB,MAAM,CAACC,MAAM,IAElDA,MAAM,CAAChB,QAAQ,CAACc,WAAW,EAAE,CAACG,QAAQ,CAACJ,IAAI,CAAC,CAE7C;EAEH;EAEAK,WAAWA,CAACF,MAAc;IACxB,IAAI,CAACtB,cAAc,CAACyB,iBAAiB,CAACH,MAAM,CAACI,EAAE,EAAC,CAAC,CAAC,CAACd,SAAS,CAAC;MAC3DC,IAAI,EAAEA,CAAA,KAAK;QACTc,KAAK,CAAC,0BAA0BL,MAAM,CAAChB,QAAQ,EAAE,CAAC;QAClD;QACA,IAAI,CAACH,eAAe,GAAG,IAAI,CAACA,eAAe,CAACkB,MAAM,CAACO,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKJ,MAAM,CAACI,EAAE,CAAC;MAC7E,CAAC;MACDX,KAAK,EAAGC,GAAG,IAAI;QACbW,KAAK,CAAC,wBAAwB,CAAC;QAC/BV,OAAO,CAACF,KAAK,CAACC,GAAG,CAAC;MACpB;KACD,CAAC;EACJ;CACD;AA1DYlB,oBAAoB,GAAA+B,UAAA,EALhChC,SAAS,CAAC;EACTiC,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACWlC,oBAAoB,CA0DhC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}