{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/Friends/friends.service\";\nimport * as i3 from \"src/app/main/services/profile.service\";\nimport * as i4 from \"@angular/common\";\nfunction ViewPersonProfileComponent_div_0_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 17);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_button_3_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r10);\n      const ctx_r9 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r9.addFriend());\n    });\n    i0.…µ…µelement(1, \"i\", 18);\n    i0.…µ…µtext(2, \" Add Friend \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ViewPersonProfileComponent_div_0_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 19);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_button_4_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r12);\n      const ctx_r11 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r11.unfriend());\n    });\n    i0.…µ…µelement(1, \"i\", 20);\n    i0.…µ…µtext(2, \" Unfriend \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 21)(1, \"button\", 22);\n    i0.…µ…µelement(2, \"i\", 23);\n    i0.…µ…µtext(3, \" Request Sent \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"button\", 24);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_div_5_Template_button_click_4_listener() {\n      i0.…µ…µrestoreView(_r14);\n      const ctx_r13 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r13.cancelRequest());\n    });\n    i0.…µ…µelement(5, \"i\", 25);\n    i0.…µ…µtext(6, \" Cancel Request \");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 21)(1, \"button\", 26);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_div_6_Template_button_click_1_listener() {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r15 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r15.acceptRequest());\n    });\n    i0.…µ…µelement(2, \"i\", 27);\n    i0.…µ…µtext(3, \" Accept \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"button\", 28);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_div_6_Template_button_click_4_listener() {\n      i0.…µ…µrestoreView(_r16);\n      const ctx_r17 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r17.rejectRequest());\n    });\n    i0.…µ…µelement(5, \"i\", 25);\n    i0.…µ…µtext(6, \" Reject \");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_16_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 34);\n    i0.…µ…µelement(1, \"img\", 35);\n    i0.…µ…µelementStart(2, \"span\", 36);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"button\", 37);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_div_16_div_3_div_1_Template_button_click_4_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r22);\n      const mf_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.…µ…µnextContext(4);\n      return i0.…µ…µresetView(ctx_r21.goToMutualFriendProfile(mf_r20.userId));\n    });\n    i0.…µ…µelement(5, \"i\", 38);\n    i0.…µ…µtext(6, \" View Profile \");\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const mf_r20 = ctx.$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"src\", mf_r20.profilePictureUrl || \"assets/default-avatar.png\", i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(mf_r20.username);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_16_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 32);\n    i0.…µ…µtemplate(1, ViewPersonProfileComponent_div_0_div_16_div_3_div_1_Template, 7, 2, \"div\", 33);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r18.mutualFriends);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 29)(1, \"button\", 30);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_div_16_Template_button_click_1_listener() {\n      i0.…µ…µrestoreView(_r24);\n      const ctx_r23 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r23.toggle());\n    });\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(3, ViewPersonProfileComponent_div_0_div_16_div_3_Template, 2, 1, \"div\", 31);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate2(\" \", !ctx_r7.toggleFriends ? \"Show Mutual Friends \\uD83D\\uDD3D\" : \"Hide Mutual Friends \\uD83D\\uDD3C\", \" (\", ctx_r7.mutualFriends.length, \") \");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r7.toggleFriends);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_5_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelement(0, \"img\", 51);\n  }\n  if (rf & 2) {\n    const p_r25 = i0.…µ…µnextContext(2).$implicit;\n    i0.…µ…µproperty(\"src\", p_r25.mediaUrl, i0.…µ…µsanitizeUrl);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_5_video_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelement(0, \"video\", 52);\n  }\n  if (rf & 2) {\n    const p_r25 = i0.…µ…µnextContext(2).$implicit;\n    i0.…µ…µproperty(\"src\", p_r25.mediaUrl, i0.…µ…µsanitizeUrl);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 14);\n    i0.…µ…µtemplate(1, ViewPersonProfileComponent_div_0_div_21_div_5_img_1_Template, 1, 1, \"img\", 49);\n    i0.…µ…µtemplate(2, ViewPersonProfileComponent_div_0_div_21_div_5_video_2_Template, 1, 1, \"video\", 50);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const p_r25 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", p_r25.mediaType == null ? null : p_r25.mediaType.startsWith(\"image\"));\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", p_r25.mediaType == null ? null : p_r25.mediaType.startsWith(\"video\"));\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_12_ul_3_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"li\");\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const name_r38 = ctx.$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(name_r38);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_12_ul_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"ul\");\n    i0.…µ…µtemplate(1, ViewPersonProfileComponent_div_0_div_21_div_12_ul_3_li_1_Template, 2, 1, \"li\", 56);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const p_r25 = i0.…µ…µnextContext(2).$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", p_r25.likedUsers);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_12_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\");\n    i0.…µ…µtext(1, \"No Likes yet\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 53)(1, \"h6\");\n    i0.…µ…µtext(2, \"Liked By\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(3, ViewPersonProfileComponent_div_0_div_21_div_12_ul_3_Template, 2, 1, \"ul\", 54);\n    i0.…µ…µtemplate(4, ViewPersonProfileComponent_div_0_div_21_div_12_ng_template_4_Template, 2, 0, \"ng-template\", null, 55, i0.…µ…µtemplateRefExtractor);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const _r35 = i0.…µ…µreference(5);\n    const p_r25 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngIf\", (p_r25.likedUsers == null ? null : p_r25.likedUsers.length) > 0)(\"ngIfElse\", _r35);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_13_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 60)(1, \"p\")(2, \"b\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const c_r45 = ctx.$implicit;\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\", c_r45.authorName, \":\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", c_r45.text, \"\");\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\");\n    i0.…µ…µtemplate(1, ViewPersonProfileComponent_div_0_div_21_div_13_div_1_div_1_Template, 5, 2, \"div\", 59);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const p_r25 = i0.…µ…µnextContext(2).$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", p_r25.comments);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_13_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\");\n    i0.…µ…µtext(1, \"No Comments yet\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 57);\n    i0.…µ…µtemplate(1, ViewPersonProfileComponent_div_0_div_21_div_13_div_1_Template, 2, 1, \"div\", 54);\n    i0.…µ…µtemplate(2, ViewPersonProfileComponent_div_0_div_21_div_13_ng_template_2_Template, 2, 0, \"ng-template\", null, 58, i0.…µ…µtemplateRefExtractor);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const _r42 = i0.…µ…µreference(3);\n    const p_r25 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", (p_r25.comments == null ? null : p_r25.comments.length) > 0)(\"ngIfElse\", _r42);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 39)(1, \"div\", 40)(2, \"div\", 41)(3, \"p\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(5, ViewPersonProfileComponent_div_0_div_21_div_5_Template, 3, 2, \"div\", 42);\n    i0.…µ…µelementStart(6, \"div\", 43)(7, \"div\", 44)(8, \"button\", 45);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_div_21_Template_button_click_8_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r49);\n      const p_r25 = restoredCtx.$implicit;\n      const ctx_r48 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r48.toggleLikes(p_r25));\n    });\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"button\", 46);\n    i0.…µ…µlistener(\"click\", function ViewPersonProfileComponent_div_0_div_21_Template_button_click_10_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r49);\n      const p_r25 = restoredCtx.$implicit;\n      const ctx_r50 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r50.viewComments(p_r25));\n    });\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µtemplate(12, ViewPersonProfileComponent_div_0_div_21_div_12_Template, 6, 2, \"div\", 47);\n    i0.…µ…µtemplate(13, ViewPersonProfileComponent_div_0_div_21_div_13_Template, 4, 2, \"div\", 48);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r25 = ctx.$implicit;\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate(p_r25.content);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", p_r25.mediaUrl);\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\" \\uD83D\\uDC4D Likes (\", (p_r25.likedUsers == null ? null : p_r25.likedUsers.length) || 0, \") \");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate2(\" \\uD83D\\uDCAC \", p_r25.showComments ? \"Hide\" : \"View\", \" Comments (\", (p_r25.comments == null ? null : p_r25.comments.length) || 0, \") \");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", p_r25.showLikes);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", p_r25.showComments);\n  }\n}\nfunction ViewPersonProfileComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4);\n    i0.…µ…µtemplate(3, ViewPersonProfileComponent_div_0_button_3_Template, 3, 0, \"button\", 5);\n    i0.…µ…µtemplate(4, ViewPersonProfileComponent_div_0_button_4_Template, 3, 0, \"button\", 6);\n    i0.…µ…µtemplate(5, ViewPersonProfileComponent_div_0_div_5_Template, 7, 0, \"div\", 7);\n    i0.…µ…µtemplate(6, ViewPersonProfileComponent_div_0_div_6_Template, 7, 0, \"div\", 7);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"div\", 8);\n    i0.…µ…µelement(8, \"img\", 9);\n    i0.…µ…µelementStart(9, \"div\")(10, \"h4\", 10);\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"p\", 11);\n    i0.…µ…µtext(13);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(14, \"p\", 12);\n    i0.…µ…µtext(15);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(16, ViewPersonProfileComponent_div_0_div_16_Template, 4, 3, \"div\", 13);\n    i0.…µ…µelementStart(17, \"div\")(18, \"h3\", 14);\n    i0.…µ…µtext(19, \"Posts\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(20, \"div\", 15);\n    i0.…µ…µtemplate(21, ViewPersonProfileComponent_div_0_div_21_Template, 14, 7, \"div\", 16);\n    i0.…µ…µelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.profile.relationshipStatus === \"NOT_FRIEND\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.profile.relationshipStatus === \"FRIEND\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.profile.relationshipStatus === \"REQUEST_SENT\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.profile.relationshipStatus === \"REQUEST_RECEIVED\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"src\", ctx_r0.profile.profilePictureUrl || \"assets/default-avatar.png\", i0.…µ…µsanitizeUrl);\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(ctx_r0.profile.firstName);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"@\", ctx_r0.profile.username, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r0.profile.bio);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r0.mutualFriends && ctx_r0.mutualFriends.length > 0);\n    i0.…µ…µadvance(5);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r0.posts);\n  }\n}\nfunction ViewPersonProfileComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 61);\n    i0.…µ…µelement(1, \"div\", 62);\n    i0.…µ…µelementStart(2, \"p\", 63);\n    i0.…µ…µtext(3, \"Loading profile...\");\n    i0.…µ…µelementEnd()();\n  }\n}\nexport class ViewPersonProfileComponent {\n  constructor(route, friendsService, profileService, router) {\n    this.route = route;\n    this.friendsService = friendsService;\n    this.profileService = profileService;\n    this.router = router;\n    this.profile = {\n      userId: 0,\n      username: '',\n      bio: '',\n      profilePictureUrl: '',\n      email: '',\n      firstName: '',\n      lastName: '',\n      dateOfBirth: new Date(),\n      gender: '',\n      relationshipStatus: ''\n    };\n    this.loading = true;\n    this.mutualFriends = [];\n    this.toggleFriends = false;\n    this.check = true;\n    this.posts = [];\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.userId = params.get('userId');\n      this.fetchProfile();\n    });\n  }\n  checkStatus() {\n    this.friendsService.getStatus(localStorage.getItem('userId'), this.profile.userId).subscribe({\n      next: data => this.profile.relationshipStatus = data,\n      error: err => console.log('error occured:', err)\n    });\n  }\n  fetchProfile() {\n    this.friendsService.getProfile(this.userId).subscribe({\n      next: data => {\n        this.profile = data;\n        this.loading = false;\n        this.checkStatus();\n        this.fetchMutualFriends();\n        this.fetchPosts();\n      },\n      error: err => {\n        console.error('Error fetching profile', err);\n        this.loading = false;\n      }\n    });\n  }\n  toggle() {\n    this.toggleFriends = !this.toggleFriends;\n    if (this.check) this.fetchMutualFriends();\n  }\n  fetchMutualFriends() {\n    this.check = false;\n    this.friendsService.findMutualFriend(localStorage.getItem(\"userId\"), this.profile.userId).subscribe({\n      next: data => {\n        this.mutualFriends = data;\n      },\n      error: err => console.error('Error loading mutual friends', err)\n    });\n  }\n  addFriend() {\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n    });\n  }\n  unfriend() {\n    this.friendsService.unFriend(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n  }\n  acceptRequest() {\n    this.friendsService.acceptFriendRequest(this.profile.userId, localStorage.getItem('userId')).subscribe(() => {\n      this.profile.relationshipStatus = 'FRIEND';\n    });\n  }\n  rejectRequest() {\n    this.friendsService.rejectFriendRequest(this.profile.userId, localStorage.getItem('userId')).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n  }\n  cancelRequest() {\n    this.friendsService.cancelFriendRequest(localStorage.getItem('userId'), this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n  }\n  goToMutualFriendProfile(userId) {\n    this.check = true;\n    this.toggleFriends = false;\n    this.router.navigate(['friends/profile', userId]);\n  }\n  fetchPosts() {\n    this.profileService.getUserProfilePosts(localStorage.getItem('userId'), this.profile.userId).subscribe({\n      next: data => {\n        this.posts = (data || []).map(p => ({\n          ...p,\n          postId: p.postId,\n          content: p.content || '',\n          mediaUrl: p.mediaUrl || null,\n          mediaType: p.mediaType,\n          likedUsers: [],\n          comments: [],\n          showComments: false,\n          showLikes: false\n        }));\n        this.posts.forEach(p => {\n          this.loadLikes(p);\n          this.loadComments(p);\n        });\n        console.log(this.posts);\n      },\n      error: err => {\n        console.log(\"Error occured\", err);\n      }\n    });\n  }\n  loadLikes(post) {\n    this.profileService.getLikesByPost(post.postId).subscribe({\n      next: likes => {\n        post.likedUsers = (likes || []).map(l => l.fullName || (l.userId ? `User ${l.userId}` : 'Unknown'));\n      },\n      error: () => post.likedUsers = []\n    });\n  }\n  toggleLikes(post) {\n    post.showLikes = !post.showLikes;\n    if (post.showLikes) this.loadLikes(post);\n  }\n  likePost(post) {\n    const dto = {\n      postId: post.postId,\n      userId: this.profile.userId\n    };\n    this.profileService.likePost(dto).subscribe({\n      next: () => this.loadLikes(post),\n      error: err => console.error('Error liking post', err)\n    });\n  }\n  viewComments(post) {\n    post.showComments = !post.showComments;\n    if (post.showComments) this.loadComments(post);\n  }\n  loadComments(post) {\n    this.profileService.getComments(post.postId).subscribe({\n      next: comments => {\n        post.comments = (comments || []).map(c => ({\n          authorName: c.username || `User ${c.userId}`,\n          text: c.content\n        }));\n      },\n      error: () => post.comments = []\n    });\n  }\n  static {\n    this.…µfac = function ViewPersonProfileComponent_Factory(t) {\n      return new (t || ViewPersonProfileComponent)(i0.…µ…µdirectiveInject(i1.ActivatedRoute), i0.…µ…µdirectiveInject(i2.FriendsService), i0.…µ…µdirectiveInject(i3.ProfileService), i0.…µ…µdirectiveInject(i1.Router));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: ViewPersonProfileComponent,\n      selectors: [[\"app-view-person-profile\"]],\n      decls: 3,\n      vars: 2,\n      consts: [[\"class\", \"container mt-4\", 4, \"ngIf\", \"ngIfElse\"], [\"loadingTpl\", \"\"], [1, \"container\", \"mt-4\"], [1, \"card\", \"shadow-sm\", \"profile-card\"], [1, \"mt-3\", \"me-3\", \"text-end\"], [\"class\", \"btn btn-primary btn-sm me-2\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-danger btn-sm me-2\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"d-inline-block\", 4, \"ngIf\"], [1, \"card-body\", \"d-flex\", \"align-items-center\"], [\"width\", \"90\", \"height\", \"90\", 1, \"rounded-circle\", \"border\", \"shadow-sm\", \"me-3\", 3, \"src\"], [1, \"fw-bold\", \"mb-1\"], [1, \"text-muted\", \"mb-2\"], [1, \"mb-2\"], [\"class\", \"mt-2\", 4, \"ngIf\"], [1, \"mb-3\"], [1, \"row\", \"row-cols-1\", \"row-cols-md-2\", \"g-3\", \"align-items-start\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", \"me-2\", 3, \"click\"], [1, \"bi\", \"bi-person-plus\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", \"me-2\", 3, \"click\"], [1, \"bi\", \"bi-person-dash\"], [1, \"d-inline-block\"], [\"disabled\", \"\", 1, \"btn\", \"btn-outline-secondary\", \"btn-sm\", \"me-2\"], [1, \"bi\", \"bi-hourglass-split\"], [1, \"btn\", \"btn-outline-danger\", \"btn-sm\", 3, \"click\"], [1, \"bi\", \"bi-x-circle\"], [1, \"btn\", \"btn-success\", \"btn-sm\", \"me-2\", 3, \"click\"], [1, \"bi\", \"bi-check-circle\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [1, \"mt-2\"], [1, \"btn\", \"btn-outline-primary\", \"btn-sm\", 3, \"click\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [1, \"mt-3\"], [\"class\", \"d-flex align-items-center mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"align-items-center\", \"mb-2\"], [\"width\", \"40\", \"height\", \"40\", 1, \"rounded-circle\", \"border\", \"me-2\", 3, \"src\"], [1, \"fw-semibold\"], [1, \"btn\", \"btn-sm\", \"btn-outline-secondary\", \"ms-2\", 3, \"click\"], [1, \"bi\", \"bi-person-badge\"], [1, \"col\"], [1, \"card\", \"shadow-sm\"], [1, \"card-body\", \"d-flex\", \"flex-column\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [1, \"mt-auto\", \"d-flex\", \"justify-content-between\", \"align-items-center\", \"flex-wrap\", \"gap-2\"], [1, \"d-flex\", \"gap-2\"], [1, \"btn-custom\", \"btn-post-like\", 3, \"click\"], [1, \"btn-custom\", \"btn-post-comment\", 3, \"click\"], [\"class\", \"likes-box mt-2\", 4, \"ngIf\"], [\"class\", \"mt-3 border-top pt-2 post-comments\", 4, \"ngIf\"], [\"class\", \"img-fluid rounded shadow-sm\", \"alt\", \"Post Image\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"w-100 rounded shadow-sm\", \"controls\", \"\", 3, \"src\", 4, \"ngIf\"], [\"alt\", \"Post Image\", 1, \"img-fluid\", \"rounded\", \"shadow-sm\", 3, \"src\"], [\"controls\", \"\", 1, \"w-100\", \"rounded\", \"shadow-sm\", 3, \"src\"], [1, \"likes-box\", \"mt-2\"], [4, \"ngIf\", \"ngIfElse\"], [\"noLikes\", \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mt-3\", \"border-top\", \"pt-2\", \"post-comments\"], [\"noComments\", \"\"], [\"class\", \"mb-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-1\"], [1, \"text-center\", \"mt-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"mt-2\", \"text-muted\"]],\n      template: function ViewPersonProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µtemplate(0, ViewPersonProfileComponent_div_0_Template, 22, 10, \"div\", 0);\n          i0.…µ…µtemplate(1, ViewPersonProfileComponent_ng_template_1_Template, 4, 0, \"ng-template\", null, 1, i0.…µ…µtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const _r1 = i0.…µ…µreference(2);\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading)(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf],\n      styles: [\".profile-card[_ngcontent-%COMP%] {\\n  border-radius: 12px;\\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\\n}\\n\\n.profile-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-3px);\\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);\\n}\\n\\nimg[_ngcontent-%COMP%] {\\n  object-fit: cover;\\n}\\n\\nbutton.btn[_ngcontent-%COMP%] {\\n  border-radius: 20px;\\n  transition: all 0.2s ease-in-out;\\n}\\n\\nbutton.btn[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.05);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvZnJpZW5kcy92aWV3LXBlcnNvbi1wcm9maWxlL3ZpZXctcGVyc29uLXByb2ZpbGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFtQjtFQUNuQixxREFBcUQ7QUFDdkQ7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IsMENBQTBDO0FBQzVDOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4QiIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlLWNhcmQge1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZSwgYm94LXNoYWRvdyAwLjJzIGVhc2U7XHJcbn1cclxuXHJcbi5wcm9maWxlLWNhcmQ6aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTtcclxuICBib3gtc2hhZG93OiAwIDZweCAxNnB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XHJcbn1cclxuXHJcbmltZyB7XHJcbiAgb2JqZWN0LWZpdDogY292ZXI7XHJcbn1cclxuXHJcbmJ1dHRvbi5idG4ge1xyXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1pbi1vdXQ7XHJcbn1cclxuXHJcbmJ1dHRvbi5idG46aG92ZXIge1xyXG4gIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","…µ…µelementStart","…µ…µlistener","ViewPersonProfileComponent_div_0_button_3_Template_button_click_0_listener","…µ…µrestoreView","_r10","ctx_r9","…µ…µnextContext","…µ…µresetView","addFriend","…µ…µelement","…µ…µtext","…µ…µelementEnd","ViewPersonProfileComponent_div_0_button_4_Template_button_click_0_listener","_r12","ctx_r11","unfriend","ViewPersonProfileComponent_div_0_div_5_Template_button_click_4_listener","_r14","ctx_r13","cancelRequest","ViewPersonProfileComponent_div_0_div_6_Template_button_click_1_listener","_r16","ctx_r15","acceptRequest","ViewPersonProfileComponent_div_0_div_6_Template_button_click_4_listener","ctx_r17","rejectRequest","ViewPersonProfileComponent_div_0_div_16_div_3_div_1_Template_button_click_4_listener","restoredCtx","_r22","mf_r20","$implicit","ctx_r21","goToMutualFriendProfile","userId","…µ…µadvance","…µ…µproperty","profilePictureUrl","…µ…µsanitizeUrl","…µ…µtextInterpolate","username","…µ…µtemplate","ViewPersonProfileComponent_div_0_div_16_div_3_div_1_Template","ctx_r18","mutualFriends","ViewPersonProfileComponent_div_0_div_16_Template_button_click_1_listener","_r24","ctx_r23","toggle","ViewPersonProfileComponent_div_0_div_16_div_3_Template","…µ…µtextInterpolate2","ctx_r7","toggleFriends","length","p_r25","mediaUrl","ViewPersonProfileComponent_div_0_div_21_div_5_img_1_Template","ViewPersonProfileComponent_div_0_div_21_div_5_video_2_Template","mediaType","startsWith","name_r38","ViewPersonProfileComponent_div_0_div_21_div_12_ul_3_li_1_Template","likedUsers","ViewPersonProfileComponent_div_0_div_21_div_12_ul_3_Template","ViewPersonProfileComponent_div_0_div_21_div_12_ng_template_4_Template","…µ…µtemplateRefExtractor","_r35","…µ…µtextInterpolate1","c_r45","authorName","text","ViewPersonProfileComponent_div_0_div_21_div_13_div_1_div_1_Template","comments","ViewPersonProfileComponent_div_0_div_21_div_13_div_1_Template","ViewPersonProfileComponent_div_0_div_21_div_13_ng_template_2_Template","_r42","ViewPersonProfileComponent_div_0_div_21_div_5_Template","ViewPersonProfileComponent_div_0_div_21_Template_button_click_8_listener","_r49","ctx_r48","toggleLikes","ViewPersonProfileComponent_div_0_div_21_Template_button_click_10_listener","ctx_r50","viewComments","ViewPersonProfileComponent_div_0_div_21_div_12_Template","ViewPersonProfileComponent_div_0_div_21_div_13_Template","content","showComments","showLikes","ViewPersonProfileComponent_div_0_button_3_Template","ViewPersonProfileComponent_div_0_button_4_Template","ViewPersonProfileComponent_div_0_div_5_Template","ViewPersonProfileComponent_div_0_div_6_Template","ViewPersonProfileComponent_div_0_div_16_Template","ViewPersonProfileComponent_div_0_div_21_Template","ctx_r0","profile","relationshipStatus","firstName","bio","posts","ViewPersonProfileComponent","constructor","route","friendsService","profileService","router","email","lastName","dateOfBirth","Date","gender","loading","check","ngOnInit","paramMap","subscribe","params","get","fetchProfile","checkStatus","getStatus","localStorage","getItem","next","data","error","err","console","log","getProfile","fetchMutualFriends","fetchPosts","findMutualFriend","sendFriendRequest","unFriend","acceptFriendRequest","rejectFriendRequest","cancelFriendRequest","navigate","getUserProfilePosts","map","p","postId","forEach","loadLikes","loadComments","post","getLikesByPost","likes","l","fullName","likePost","dto","getComments","c","…µ…µdirectiveInject","i1","ActivatedRoute","i2","FriendsService","i3","ProfileService","Router","selectors","decls","vars","consts","template","ViewPersonProfileComponent_Template","rf","ctx","ViewPersonProfileComponent_div_0_Template","ViewPersonProfileComponent_ng_template_1_Template","_r1"],"sources":["C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\features\\friends\\view-person-profile\\view-person-profile.component.ts","C:\\Users\\ayushman.jha01\\Saved Games\\Facebook_group3\\group3-frontend\\src\\app\\features\\friends\\view-person-profile\\view-person-profile.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Friend, FriendsService, UserDTO } from 'src/app/core/services/Friends/friends.service';\nimport { ProfileService } from 'src/app/main/services/profile.service';\n\n@Component({\n  selector: 'app-view-person-profile',\n  templateUrl: './view-person-profile.component.html',\n  styleUrls: ['./view-person-profile.component.css']\n})\n\nexport class ViewPersonProfileComponent implements OnInit{\n\n\n  userId!: string;\n\n  profile: UserDTO={\n    userId:0,\n    username:'',\n    bio:'',\n    profilePictureUrl:'',\n    email:'',\n    firstName:'',\n    lastName:'',\n    dateOfBirth:new Date(),\n    gender:'',\n    relationshipStatus:''\n  };\n\n  loading = true;\n\n  constructor(private route: ActivatedRoute, private friendsService: FriendsService,\n    private profileService:ProfileService,\n    private router:Router) {}\n\n  ngOnInit(): void {\n\n    this.route.paramMap.subscribe(params => {\n\n      this.userId = params.get('userId')!;\n\n      this.fetchProfile();\n      \n\n    });\n\n  }\n\n  checkStatus():void{\n    this.friendsService.getStatus(localStorage.getItem('userId'),this.profile.userId).subscribe({\n      next: data=>this.profile.relationshipStatus=data,\n      error:err=>console.log('error occured:',err)\n    })\n  }\n\n  fetchProfile(): void {\n\n    this.friendsService.getProfile(this.userId).subscribe({\n\n      next: (data) => {\n        this.profile = data;\n        this.loading = false;\n        this.checkStatus();\n        this.fetchMutualFriends();\n        this.fetchPosts();\n      },\n      error: (err) => {\n        console.error('Error fetching profile', err);\n        this.loading = false;\n      }\n    });\n\n  }\n  \n\n\n  mutualFriends:UserDTO[]=[];\n  toggleFriends:boolean=false;\n\n  toggle(){\n    this.toggleFriends=!this.toggleFriends;\n    if(this.check) this.fetchMutualFriends();\n  }\n  check:boolean=true;\n  fetchMutualFriends(){\n    this.check=false;    \n    this.friendsService.findMutualFriend(localStorage.getItem(\"userId\"),this.profile.userId).subscribe({\n          next: (data) => {\n            this.mutualFriends =data;\n          },\n          error: (err) => console.error('Error loading mutual friends', err)\n          });\n  }\n\n  addFriend(): void {\n    this.friendsService.sendFriendRequest(localStorage.getItem('userId'),this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'REQUEST_SENT';\n    });\n  }\n\n  unfriend(): void {\n    this.friendsService.unFriend(localStorage.getItem('userId'),this.profile.userId).subscribe(() => {\n      this.profile.relationshipStatus = 'NOT_FRIEND';\n    });\n  }\n\n  acceptRequest(): void {\n    this.friendsService.acceptFriendRequest(this.profile.userId,localStorage.getItem('userId')).subscribe(() => {\n      this.profile.relationshipStatus = 'FRIEND';\n    });\n  }\n\n  rejectRequest():void{\n    this.friendsService.rejectFriendRequest(this.profile.userId,localStorage.getItem('userId')).subscribe(()=>{\n      this.profile.relationshipStatus='NOT_FRIEND'; \n    })\n  }\n\n  cancelRequest():void{\n    this.friendsService.cancelFriendRequest(localStorage.getItem('userId'),this.profile.userId).subscribe(()=>{\n      this.profile.relationshipStatus='NOT_FRIEND'; \n    })\n  }\n\n  \n  goToMutualFriendProfile(userId:any){\n    this.check=true;\n    this.toggleFriends=false;\n    this.router.navigate(['friends/profile',userId]);   \n  }\n\n  posts:any[]=[];\n  fetchPosts():void{\n    this.profileService.getUserProfilePosts(localStorage.getItem('userId'),this.profile.userId).subscribe({\n      next:data=>{\n        this.posts = (data || []).map((p: any) => ({\n          ...p,\n          postId: p.postId,\n          content: p.content || '',\n          mediaUrl: p.mediaUrl|| null,\n          mediaType: p.mediaType,\n          likedUsers: [],\n          comments: [],\n          showComments: false,\n          showLikes: false\n        }));\n        \n        this.posts.forEach(p => {\n          this.loadLikes(p);\n          this.loadComments(p);\n        });\n        console.log(this.posts);\n      },\n      error:err=>{\n        console.log(\"Error occured\",err);\n      }\n    })\n    }\n    loadLikes(post: any): void {\n    this.profileService.getLikesByPost(post.postId).subscribe({\n      next: (likes) => {\n        post.likedUsers = (likes || []).map(l => l.fullName || (l.userId ? `User ${l.userId}` : 'Unknown'));\n      },\n      error: () => post.likedUsers = []\n    });\n  }\n\n  toggleLikes(post: any) {\n    post.showLikes = !post.showLikes;\n    if (post.showLikes) this.loadLikes(post);\n  }\n\n  likePost(post: any): void {\n    const dto = { postId: post.postId, userId: this.profile.userId };\n    this.profileService.likePost(dto).subscribe({\n      next: () => this.loadLikes(post),\n      error: (err) => console.error('Error liking post', err)\n    });\n  }\n\n  viewComments(post: any): void {\n    post.showComments = !post.showComments;\n    if (post.showComments) this.loadComments(post);\n  }\n\n  loadComments(post: any): void {\n    this.profileService.getComments(post.postId).subscribe({\n      next: (comments) => {\n        post.comments = (comments || []).map((c: any) => ({\n          authorName: c.username || `User ${c.userId}`,\n          text: c.content\n        }));\n      },\n      error: () => post.comments = []\n    });\n  }\n\n}","<div class=\"container mt-4\" *ngIf=\"!loading; else loadingTpl\">\r\n  <div class=\"card shadow-sm profile-card\">\r\n    \r\n    <!-- Action Buttons -->\r\n    <div class=\"mt-3 me-3 text-end\">\r\n      <!-- Not Friends -->\r\n      <button *ngIf=\"profile.relationshipStatus === 'NOT_FRIEND'\" class=\"btn btn-primary btn-sm me-2\" (click)=\"addFriend()\">\r\n        <i class=\"bi bi-person-plus\"></i> Add Friend\r\n      </button>\r\n\r\n      <!-- Already Friends -->\r\n      <button *ngIf=\"profile.relationshipStatus === 'FRIEND'\" class=\"btn btn-danger btn-sm me-2\" (click)=\"unfriend()\">\r\n        <i class=\"bi bi-person-dash\"></i> Unfriend\r\n      </button>\r\n\r\n      <!-- Request Sent -->\r\n      <div *ngIf=\"profile.relationshipStatus === 'REQUEST_SENT'\" class=\"d-inline-block\">\r\n        <button class=\"btn btn-outline-secondary btn-sm me-2\" disabled>\r\n          <i class=\"bi bi-hourglass-split\"></i> Request Sent\r\n        </button>\r\n        <button class=\"btn btn-outline-danger btn-sm\" (click)=\"cancelRequest()\">\r\n          <i class=\"bi bi-x-circle\"></i> Cancel Request\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Request Received -->\r\n      <div *ngIf=\"profile.relationshipStatus === 'REQUEST_RECEIVED'\" class=\"d-inline-block\">\r\n        <button class=\"btn btn-success btn-sm me-2\" (click)=\"acceptRequest()\">\r\n          <i class=\"bi bi-check-circle\"></i> Accept\r\n        </button>\r\n        <button class=\"btn btn-danger btn-sm\" (click)=\"rejectRequest()\">\r\n          <i class=\"bi bi-x-circle\"></i> Reject\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Profile Body -->\r\n    <div class=\"card-body d-flex align-items-center\">\r\n      <img [src]=\"profile.profilePictureUrl || 'assets/default-avatar.png'\" \r\n           class=\"rounded-circle border shadow-sm me-3\" \r\n           width=\"90\" height=\"90\" />\r\n\r\n      <div>\r\n        <h4 class=\"fw-bold mb-1\">{{ profile.firstName }}</h4>\r\n        <p class=\"text-muted mb-2\">@{{ profile.username }}</p>\r\n        <p class=\"mb-2\">{{ profile.bio }}</p>\r\n\r\n        <!-- Mutual Friends -->\r\n        <div *ngIf=\"mutualFriends && mutualFriends.length > 0\" class=\"mt-2\">\r\n          <button class=\"btn btn-outline-primary btn-sm\" (click)=\"toggle()\">\r\n            {{ !toggleFriends ? \"Show Mutual Friends üîΩ\" : \"Hide Mutual Friends üîº\" }}\r\n            ({{ mutualFriends.length }})\r\n          </button>\r\n\r\n          <div *ngIf=\"toggleFriends\" class=\"mt-3\">\r\n            <div *ngFor=\"let mf of mutualFriends\" class=\"d-flex align-items-center mb-2\">\r\n              <img [src]=\"mf.profilePictureUrl || 'assets/default-avatar.png'\" \r\n                   class=\"rounded-circle border me-2\" width=\"40\" height=\"40\" />\r\n              <span class=\"fw-semibold\">{{ mf.username }}</span>\r\n              <button class=\"btn btn-sm btn-outline-secondary ms-2\" \r\n                      (click)=\"goToMutualFriendProfile(mf.userId)\">\r\n                <i class=\"bi bi-person-badge\"></i> View Profile\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h3 class=\"mb-3\">Posts</h3>\r\n\r\n  <div class=\"row row-cols-1 row-cols-md-2 g-3 align-items-start\">\r\n    <div *ngFor=\"let p of posts\" class=\"col\">\r\n      <div class=\"card  shadow-sm\">\r\n        <div class=\"card-body d-flex flex-column\">\r\n\r\n          <!-- Post text -->\r\n          <p>{{ p.content }}</p>\r\n\r\n          <!-- Post Media (image or video) -->\r\n          <div *ngIf=\"p.mediaUrl\" class=\"mb-3\">\r\n            <!-- Image -->\r\n            <img *ngIf=\"p.mediaType?.startsWith('image')\" \r\n                 [src]=\"p.mediaUrl\" \r\n                 class=\"img-fluid rounded shadow-sm\" \r\n                 alt=\"Post Image\">\r\n            \r\n            <!-- Video -->\r\n            <video *ngIf=\"p.mediaType?.startsWith('video')\" \r\n                   [src]=\"p.mediaUrl\" \r\n                   class=\"w-100 rounded shadow-sm\" \r\n                   controls>\r\n            </video>\r\n          </div>\r\n\r\n          <div class=\"mt-auto d-flex justify-content-between align-items-center flex-wrap gap-2\">\r\n\r\n            <!-- Likes -->\r\n            <div class=\"d-flex gap-2\">\r\n              <button class=\"btn-custom btn-post-like\" (click)=\"toggleLikes(p)\">\r\n                üëç Likes ({{ p.likedUsers?.length || 0 }})\r\n              </button>\r\n\r\n              <!-- Likes box -->\r\n              \r\n\r\n              <!-- Comments -->\r\n              <button class=\"btn-custom btn-post-comment\" (click)=\"viewComments(p)\">\r\n                üí¨ {{ p.showComments ? 'Hide' : 'View' }} Comments ({{ p.comments?.length || 0 }})\r\n              </button>\r\n            </div>\r\n\r\n\r\n          </div>\r\n          <div *ngIf=\"p.showLikes\" class=\"likes-box mt-2\">\r\n                <h6>Liked By</h6>\r\n                <ul *ngIf=\"p.likedUsers?.length > 0; else noLikes\">\r\n                  <li *ngFor=\"let name of p.likedUsers\">{{ name }}</li>\r\n                </ul>\r\n                <ng-template #noLikes>\r\n                  <p>No Likes yet</p>\r\n                </ng-template>\r\n              </div>\r\n\r\n          <!-- Comment List -->\r\n          <div *ngIf=\"p.showComments\" class=\"mt-3 border-top pt-2 post-comments\">\r\n            <div *ngIf=\"p.comments?.length > 0; else noComments\">\r\n              <div *ngFor=\"let c of p.comments\" class=\"mb-1\">\r\n                <p><b>{{ c.authorName }}:</b> {{ c.text }}</p>\r\n              </div>\r\n            </div>\r\n            <ng-template #noComments>\r\n              <p>No Comments yet</p>\r\n            </ng-template>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<ng-template #loadingTpl>\r\n  <div class=\"text-center mt-5\">\r\n    <div class=\"spinner-border text-primary\" role=\"status\"></div>\r\n    <p class=\"mt-2 text-muted\">Loading profile...</p>\r\n  </div>\r\n</ng-template>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}